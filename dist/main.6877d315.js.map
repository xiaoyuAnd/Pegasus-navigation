{"version":3,"sources":["main.js"],"names":["loadData","JSON","parse","window","localStorage","getItem","saveData","dataList","setItem","stringify","render","$siteList","find","remove","hashMap","forEach","node","index","logoType","$last","before","$","url","logo","link","img","on","e","preventDefault","splice","document","key","target","matches","open","css","urlString","prompt","indexOf","replace","push"],"mappings":"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","file":"main.6877d315.js","sourceRoot":"..\\src","sourcesContent":["function loadData() {\n  return JSON.parse(window.localStorage.getItem(\"x\"));\n}\nfunction saveData(dataList) {\n  return window.localStorage.setItem(\"x\", JSON.stringify(dataList));\n}\nfunction render() {\n  $siteList.find(`li:not(.last)`).remove();\n  hashMap.forEach((node, index) => {\n    if (node.logoType === \"text\") {\n      $last.before(\n        $(`<li>\n    <a href=\"${node.url}\">\n      <div class=\"site\">\n        <div class=\"logo\">${node.logo}</div>\n        <div class=\"link\">${node.link}</div>\n        <div class=\"close\">\n          <svg class=\"icon\">\n            <use xlink:href=\"#icon-close1\"></use>\n          </svg>\n        </div>\n      </div>\n    </a>\n  </li>`)\n      );\n    } else if (node.logoType === \"image\") {\n      $last.before(\n        $(`<li>\n    <a href=\"${node.url}\">\n      <div class=\"site\">\n        <div class=\"logo\">\n        <img id=\"img${index}\" src=\"${node.img}\"/>\n        </div>\n        <div class=\"link\">${node.link}</div>\n        <div class=\"close\">\n          <svg class=\"icon\">\n            <use xlink:href=\"#icon-close1\"></use>\n          </svg>\n        </div>\n      </div>\n    </a>\n  </li>`)\n      );\n      $(`#img${index}`).on(\"error\", function (e) {\n        // $(this).parent().html(node.logo);\n        hashMap[index].logoType = \"text\";\n        saveData(hashMap);\n        render();\n      });\n    }\n    $(`li:nth-child(${index + 1}`).on(\"click\", \".close\", function (e) {\n      e.preventDefault();\n      hashMap.splice(index, 1);\n      saveData(hashMap);\n      render();\n    });\n    $(document).on(\"keypress\", function (e) {\n      if (e.key === node.logo) {\n        if (!e.target.matches(\"input\")) {\n          window.open(node.url, \"_self\");\n        }\n      }\n    });\n  });\n  $last.css(\"visibility\", \"visible\");\n}\n\nconst $siteList = $(`.siteList`);\nconst $last = $(`.last`);\nconst hashMap = loadData() || [\n  {\n    logoType: \"image\",\n    logo: \"i\",\n    link: \"iconfont.cn\",\n    url: \"//iconfont.cn\",\n    img: \"//iconfont.cn/favicon.ico\",\n  },\n  {\n    logoType: \"image\",\n    logo: \"b\",\n    link: \"bilibili.com\",\n    url: \"//bilibili.com\",\n    img: \"//bilibili.com/favicon.ico\",\n  },\n  {\n    logoType: \"image\",\n    logo: \"c\",\n    link: \"css-tricks.com\",\n    url: \"//css-tricks.com\",\n    img: \"//css-tricks.com/favicon.ico\",\n  },\n  {\n    logoType: \"image\",\n    logo: \"d\",\n    link: \"developer.mozilla.org\",\n    url: \"//developer.mozilla.org\",\n    img: \"//developer.mozilla.org/favicon.ico\",\n  },\n  {\n    logoType: \"image\",\n    logo: \"g\",\n    link: \"github.com\",\n    url: \"//github.com\",\n    img: \"//github.com/favicon.ico\",\n  },\n  {\n    logoType: \"image\",\n    logo: \"j\",\n    link: \"api.jquery.com\",\n    url: \"//api.jquery.com\",\n    img: \"//api.jquery.com/favicon.ico\",\n  },\n  {\n    logoType: \"image\",\n    logo: \"y\",\n    link: \"yuque.com\",\n    url: \"//yuque.com\",\n    img: \"//yuque.com/favicon.ico\",\n  },\n  {\n    logoType: \"image\",\n    logo: \"z\",\n    link: \"zhihu.com\",\n    url: \"//zhihu.com\",\n    img: \"//zhihu.com/favicon.ico\",\n  },\n];\n\nrender();\n$(\".addButton\").on(\"click\", function () {\n  let urlString = window.prompt(`请输入网址：`);\n  let url;\n  if (urlString) {\n    if (urlString.indexOf(\"http\") === 0 || urlString.indexOf(\"//\") === 0) {\n      url = urlString;\n    } else {\n      url = \"//\" + urlString;\n    }\n    let link = urlString\n      .replace(\"https://\", \"\")\n      .replace(\"http://\", \"\")\n      .replace(\"www.\", \"\")\n      .replace(/\\/.*/, \"\");\n    hashMap.push({\n      logoType: \"image\",\n      logo: link[0],\n      link: link,\n      img: url + \"/favicon.ico\",\n      url: url,\n    });\n    saveData(hashMap);\n    render();\n  }\n});\n"]}